<!DOCTYPE html>
<html ng-app="Southern">
  <head>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WRH83G');
    var cx = '004766769700957756237:fowol8rwkue';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);</script>
    <!-- End Google Tag Manager -->

    <script type="application/javascript">
var show_vwo = true,
    _vwo_settings_timer;

var ip2long = function(ip) {
    var components;

    if(components = ip.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)) {
        var iplong = 0;
        var power  = 1;
        for(var i=4; i>=1; i-=1)
        {
            iplong += power * parseInt(components[i]);
            power  *= 256;
        }
        return iplong;
    }
    else return -1;
};

var inSubNet = function(ip, subnet) {   
    var mask, base_ip, long_ip = ip2long(ip);
    if ( (mask = subnet.match(/^(.*?)\/(\d{1,2})$/)) && ((base_ip=ip2long(mask[1])) >= 0) ) {
        var freedom = Math.pow(2, 32 - parseInt(mask[2]));
        return (long_ip > base_ip) && (long_ip < base_ip + freedom - 1);
    }
    else return false;
};

var _vwo_code = (
    function() {
        var account_id = 259220,
            settings_tolerance = 2000,
            library_tolerance = 2500,
            use_existing_jquery = false,

            // DO NOT EDIT BELOW THIS LINE
            f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};
        }()
);

var run_vwo = function() {
    _vwo_settings_timer=_vwo_code.init();
}


Object.defineProperty(window, "Cookies", {
    get: function() {
        return document.cookie.split(';').reduce(function(cookies, cookie) {
            cookies[(cookie.split("=")[0]).replace(/ /g,'')] = unescape(cookie.split('=')[1]);
            return cookies
        }, {});
    }
});


function getIP(json) {
    if (inSubNet(json.ip, '216.229.224.0/20')) {
        console.log("CASE 1");
        show_vwo = false;
    }

    if (inSubNet(json.ip, '216.249.112.0/20')) {
        console.log("CASE 2");
        show_vwo = false;
    }
    
    if (show_vwo && Cookies['SAU-Status'] !== 'Internal') {
        run_vwo();
        console.log('VWO');
    } else {
        console.log('NON_VWO');
    }
}

console.log(Cookies['SAU-Status']);
</script>

<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>

    <title>Southern Homepage</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <link rel="stylesheet" href="http://www.southern.edu/_resources-v2/css/fonts-neue.css"/>
    <link rel="stylesheet" href="http://www.southern.edu/_resources-v2/css/fonts-neue-cond.css"/>
    <link href="https://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400i" rel="stylesheet">
    <link rel="stylesheet" href="css/foundation.min.css"/>
    <link rel="stylesheet" href="css/animate.css"/>
    <link rel="stylesheet" href="css/app.css"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>

  <body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRH83G"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header></header>

    <div ng-view>

      <first-section> </first-section>
      <second-section></second-section>
      <third-section> </third-section>
      <fourth-section></fourth-section>
      <fifth-section></fifth-section> <!-- Your size fits you -->
      <sixth-section></sixth-section> <!-- Change the world -->
      <seventh-section></seventh-section>
      <eighth-section></eighth-section>
      <ninth-section></ninth-section>

    </div>

    <footer></footer>

    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?key=AIzaSyAWfBDo6UTSbMb5P2nDE9z7dNUOD908fR4"></script>

    <script src="js/missions.json"></script>
    <script src="js/app.js"></script>
    <script src="plugins/angular-scroll-animate.js"></script>
    <script src="plugins/fittext.js"></script>
    <script src="plugins/ng-map.min.js"></script>
    <script src="plugins/video-player.js"></script>
    <script src="js/foundation.min.js"></script>
  </body>

</html>
